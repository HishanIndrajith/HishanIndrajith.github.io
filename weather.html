<!DOCTYPE html>
<html lang="en">

<head>
  <!-- meta -->
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Networked and Automated Weather Monitoring and Alerting System</title>
  <meta content="" name="keywords">
  <meta content="Networked and Automated Weather Monitoring and Alerting System" name="description">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,500,500i,600,600i,700,700i|Playfair+Display:400,400i,700,700i,900,900i" rel="stylesheet">

  <!-- Bootstrap CSS File -->
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="lib/magnific-popup/magnific-popup.css" rel="stylesheet">
  <link href="lib/hover/hover.min.css" rel="stylesheet">

  <!-- Blog Stylesheet File -->
  <link href="css/blog.css" rel="stylesheet">

  <!-- Main Stylesheet File -->
  <link href="css/style.css" rel="stylesheet">

  <!-- Responsive css -->
  <link href="css/responsive.css" rel="stylesheet">

  <!-- Favicon -->
  <link rel="shortcut icon" href="images/favicon.png">

</head>

<body>

  <!-- start section navbar -->
  <nav id="main-nav-subpage" class="subpage-nav">
    <div class="row">
      <div class="container">

        <div class="logo">
          <a href="index.html"><img src="images/logo.png" alt="logo"></a>
        </div>

        <div class="responsive"><i data-icon="m" class="ion-navicon-round"></i></div>

        <ul class="nav-menu list-unstyled">
          <li><a href="https://hishan.me" class="smoothScroll">Home</a></li>
          <li><a href="#about" class="smoothScroll">About</a></li>
          <li><a href="#portfolio" class="smoothScroll">Portfolio</a></li>
          <li><a href="#blog" class="smoothScroll">Blog</a></li>
          <li><a href="#contact" class="smoothScroll">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- End section navbar -->
  <!-- start section main content -->
  <div class="main-content paddsection">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-md-offset-2">
          <div class="row">
            <div class="container-main single-main">
              <div class="col-md-12">
                <div class="block-main mb-30">
                  <div class="content-main single-post padDiv">
                    <div class="post-meta">
                      <ul class="list-unstyled mb-0">
                        <li class="author">Written by:<a>Hishan Indrajith</a></li>
                        <li class="date">date:<a>June 2, 2018</a></li>
                      </ul>
                      </br>
                    </div>
                    <div class="journal-txt">
                      <h4><a>Networked and Automated Weather Monitoring and Alerting System</a></h4>
                    </div>
                    <kbd>Jan 2018 - May 2018</kbd></br></br>
                    <kbd>Group Project</kbd></br></br>
                    <ul class="nav list-unstyled">
                        <li><kbd style="background-color: #0e4b87;">PHP</kbd></li>
                        <li><kbd style="background-color: #0e4b87;">MySQL</kbd></li>
                        <li><kbd style="background-color: #0e4b87;">Arduino</kbd></li>
                        <li><kbd style="background-color: #0e4b87;">Javascript/AJAX</kbd></li>
                        <li><kbd style="background-color: #0e4b87;">BackEnd Designing</kbd></li>
                    </ul></br>
                    <a href = "" ><span><i data-icon="m" class="ion-social-github"></i></span> Gihub Repository</a>
                    
                    <p class="mb-30">
                      <iframe width="100%" height="300" src="https://www.youtube.com/embed/-u3x0cDfqGU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </p>
                    <blockquote>My Contribution was developing and designing the backend server, web app, and embedded system programming using arduino to connect with server.</blockquote>
                    <h3>Project Decription</h3>
                    <p class="mb-30">
                    Weather conditions and climate changes must be logged and analyzed by relevant authorities like meteorological department each day. They take relevant actions observing those records obtained allover the island. But in the current manual system they collect information only from main cities and taking responses manually takes much time and effort.</p>
                    <p class="mb-30">
                    So in this unified project we develop a system that can be used to collect information from much many places allover Sri Lanka using an embedded system kept in those locations. The locations may be places in each district close to sea, rivers, reservoirs, tanks and other areas. The data are wind speed, wind direction, rainfall, humidity, temperature etc.</p>
                    <p class="mb-30">
                    All those data taken from those sensors, are sent to a central server and processed there. If there are extreme weather cases that public must be warned, sirens will be activated near reservoir dams,around flooding areas near rivers automatically. The process is very quicker than manual method. So the damages due to extreme weather is reduced as well as meteorological department will have newest data from allover the country.</p>
                    <h6>Introduction</h6>
                    <p class="mb-30"><iframe width="100%" height="300" src="https://www.youtube.com/embed/5pYDfkILeco" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
                    <h3>Project Phase 1 – Project Design</h3>
                    <p class="mb-30">The combined embedded system will have 5 main sub parts.</p>
                    <p class="mb-30">
                      <ol>
                          <li>Wind Speed Sensing System</li>
                            <ul>
                                <li>This is a wind Vane that rotates with wind. We are making a mechanism using IR sensor to get the time taken to complete a full cycle by vane. The wind speed is calculated using that data.</li>
                                <li> The model wind vane expected to be build is given below.</li>
                                <div class="col-lg-6  col-md-8 col-sm-12">
                                <img src="images/blog/weather/1.png" class="img-responsive" style="max-width: 100%" alt="wind wane">
                                </div>
                                <li> Infrared barrier module is the IR sensor we are planning to use. It emits infra red waves and monitor the reflected rays. It can identify black and white screens.</li>
                                <div class="col-lg-6  col-md-8 col-sm-12">
                                <img src="images/blog/weather/2.png" class="img-responsive" style="max-width: 100%" alt="ir">
                                </div>
                            </ul>
                          <li>Rainfall measuring System</li>
                            <ul>
                                <li>This has a cylindrical vessel with fixed cross section that collects rain water and measure the water level using an ultrasound sensor kept few cm below top of the vessel. Sensor not having at top most is to avoid water drops to go away hitting the sensor.</li>
                                <li>Also this has a automatic valve to remove water daily after reporting to server, based on the sonar sensor reading.</li>
                                <li>Also this has a rain sensor to identify whether it is raining or not.</li>
                                <li>Below is the model of the system.</li>
                                <div class="col-lg-6  col-md-8 col-sm-12">
                                <img src="images/blog/weather/5.png" class="img-responsive" style="max-width: 100%" alt="rain guage">
                                </div>
                                <li>This is the ultrasonic sensor we are planning to use (HC-SR04)</li>
                                <div class="col-lg-6  col-md-8 col-sm-12">
                                <img src="images/blog/weather/6.png" class="img-responsive" style="max-width: 100%" alt=ultrasound sensor">
                                </div>
                                <li>This is the automatic valve we are using. It is a plastic solenoid valve</li>
                                <div class="col-lg-6  col-md-8 col-sm-12">
                                <img src="images/blog/weather/7.png" class="img-responsive" style="max-width: 100%" alt="solenoid">
                                </div>
                            </ul>
                          <li>Temperature and Humidity measuring System</li>
                            <ul>
                                <li>This is a single sensor that sense temperature and humidity.</li>
                                <li>For that we use Humidity and Temperature DHT11 Module in below picture.</li>
                                <div class="col-lg-6  col-md-8 col-sm-12">
                                <img src="images/blog/weather/8.png" class="img-responsive" style="max-width: 100%" alt="DHT11">
                                </div>
                            </ul>
                          <li>Microcontroller</li>
                            <ul>
                                <li>We use Atmega328p microcontroller for each node connecting all the above mentioned sub parts.</li>
                                <div class="col-lg-8  col-md-10 col-sm-12">
                                <img src="images/blog/weather/9.png" class="img-responsive" style="max-width: 100%" alt="nodes">
                                </div>
                                <li>We will use ARDUINO UNO board which has Atmega328p microcontroller.</li>
                                <div class="col-lg-6  col-md-8 col-sm-12">
                                <img src="images/blog/weather/10.jpg" class="img-responsive" style="width: 100%" alt="arduino">
                                </div>
                            </ul>
                          <li>Network Module</li>
                            <ul>
                                <li>As we need the embedded unit at places normally we can’t expect WIFI access, we decided to use a GSM module to send data collected to the central server.</li>
                                <li>So the GSM module we are using is  sim808 module.</li>
                                <div class="col-lg-6  col-md-8 col-sm-12">
                                <img src="images/blog/weather/11.jpg" class="img-responsive" style="max-width: 100%" alt="GSM">
                                </div>
                            </ul>
                        </ol> 
                      </p>
                      <h5>WEB APPLICATION</h5>
                      <p class="mb-30">
                          We are sending the data collected in each time to the central database. we have implemented the database in 000webhost.com. So we are implementing a web application for users to view the data log using a user interface.</p>
                      <p class="mb-30">
                      We are sending data using protocol HTTP. HTTP GET request is used to send data. The microcontroler will send requests to the SIM808 as AT commands using serial port. Software Serial is used for that as digital pins are used for serial data sending.
                      </p>
                      <p class="mb-30">
                      Front end will run HTML5 and back end will run PHP maintaining the connection with the database. MYSQL is used for database managing.</p>
                      <p class="mb-30">
                      User interface will allow users to view parameters rainfall, wind direction, wind speed, temperature, humidity based on map(current situation/latest) also based on time(history).</p>
                      <p class="mb-30">
                      So the total image of the final system will be like this</p>
                      </p>
                      <div class="col-lg-6  col-md-8 col-sm-12">
                                <img src="images/blog/weather/12.png" class="img-responsive" style="max-width: 100%" alt="system">
                      </div>
                      </br>
                      <h5>NETWORK SECURITY</h5>
                      <p class="mb-30">
                        As the very important data are sent to the central server from systems in rural places, the security of data is a fact to consider much. As stated by the examiners of Project Milestone 1 in comments, data encryption is not required in this case because we  not need to hide data from anyone. Only thing we need is to protect data from being changed externally. So we are going to use MAC -Message authentication code for the requirement.
                        </p><p class="mb-30">
                        “A message authentication code (often called MAC) is a block of a few bytes that is used to authenticate a message. The receiver can check this block and be sure that the message hasn’t been modified by the third party.” – http://www.crypto-it.net/eng/theory/mac.html
                      </p>
                      <div class="col-lg-8  col-md-10 col-sm-12">
                                <img src="images/blog/weather/13.png" class="img-responsive" style="max-width: 100%" alt="mac">
                      </div>
                      </br>
                      <h5>Timeline Of the Project</h5>
                      <div class="col-lg-12  col-md-10 col-sm-12">
                        <img src="images/blog/weather/14.png" class="img-responsive" style="max-width: 100%" alt="timeline">
                      </div>
                      </br>
                      <h3>Project Phase 2 – Implementation Initiation</h3>
                      </br>
                      <h5>Designs</h5>
                      </br>
                      <h6><u>Circuit Diagram</u></h6> </br>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/15.png" class="img-responsive" style="max-width: 100%" alt="circuit">
                      </div>

                      </br>
                      <h6><u>Embedded Software Design – To be coded using Arduino</u></h6> </br>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/16.png" class="img-responsive" style="max-width: 100%" alt="Embedded Software Design – To be coded using Arduino">
                      </div>

                      </br>
                      <h6><u>Web Back End Design – PHP, AJAX, JAVASCRIPT</u></h6> </br>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/17.png" class="img-responsive" style="max-width: 100%" alt="Web Back End Design – PHP, AJAX, JAVASCRIPT">
                      </div>

                       </br>
                      <h6><u>Database Design – ER Diagram</u></h6> </br>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/18.png" class="img-responsive" style="max-width: 100%" alt="Database Design – ER Diagram">
                      </div>

                       </br>
                      <h6><u>Front End Design</u></h6> </br>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/19.png" class="img-responsive" style="max-width: 100%" alt="Front End">
                      </div> </br>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/20.png" class="img-responsive" style="max-width: 100%" alt="Front End">
                      </div> </br>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/21.png" class="img-responsive" style="max-width: 100%" alt="Front End">
                      </div> </br>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/22.png" class="img-responsive" style="max-width: 100%" alt="Front End">
                      </div> </br>

                      <h6><u>Security Design</u></h6> </br>
                      <p class="mb-30">
                        The server must be able to detect if any modification attacks have taken place on the data.
                        </p><p class="mb-30">
                        MAC – Message Authentication Code is used.
                      </p>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/23.png" class="img-responsive" style="max-width: 100%" alt="mac">
                      </div> </br>

                      <p class="mb-30">
                        MAC Algorithm we used is as follows
                      </p>
                      <b style="color: red;font-size: 20px">MAC = [ (h + s – t)*w + r ] mod ( k )</b></br></br>
                      <ul>
                        <li>Temperature = t</li>
                         <li>Humidity = h</li>
                         <li>Rain Status = s</li>
                         <li>Wind Speed = w</li>
                        <li> ainfall = r</li>
                        <li>Key = k</li>
                      </ul>
                      <p class="mb-30">
                      MAC is sent with weather data and in server it is rechecked and if it is correct only data is accepted.</p>
                      <h4>Project Phase 3 – Implementation and Testing</h4>
                      <p class="mb-30">
                        Video Demonstration of the Project
                      </p>
                      <iframe width="100%" height="300" src="https://www.youtube.com/embed/Bitjx8XXnLc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                      <p class="mb-30">
                        Web Application
                      </p>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/24.png" class="img-responsive" style="max-width: 100%" alt="Front End1">
                      </div></br>
                      <a href="http://digitalthings.comlu.com/weather/">http://digitalthings.comlu.com/weather/</a>
                      <p class="mb-30">
                        Web Application is a live application that automatically update graphs on weather and give automatic notifications on extreme cases.
                      </p>
                      <h5>Test Results</h5></br>
                      <b style="color: red;font-size: 18px">Wind Speed Testing with Kestral 1000</b>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/25.png" class="img-responsive" style="max-width: 100%" alt="test result">
                      </div></br>
                      <b style="color: red;font-size: 18px">Rainfall Testing</b>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/26.png" class="img-responsive" style="max-width: 100%" alt="test result">
                      </div></br>
                      <b style="color: red;font-size: 18px">Test Summary</b>
                      <div class="col-lg-10  col-md-10 col-sm-12">
                                <img src="images/blog/weather/27.jpg" class="img-responsive" style="max-width: 100%" alt="test result">
                      </div></br>
                      <h5>Downloads</h5></br>
                      <a href="images/blog/weather/manual.pdf"  target="_blank" class="btn btn-info" role="button">Manual of the Product</a>
                      <a href="images/blog/weather/solid_work_designs.zip"  target="_blank" class="btn btn-info" role="button">Solidwork Designs</a>
                      </br>
                      </br>
                      <h5>Technologies</h5></br>
                      <div class="col-lg-12  col-md-12 col-sm-12">
                                <img src="images/blog/weather/28.png" class="img-responsive" style="max-width: 100%" alt="test result">
                      </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--  </div> -->
  <!-- start section main content -->

  <!-- start section footer -->
   <div id="footer" class="text-center">
    <div class="container">
      <div class="socials-media text-center">

        <ul class="list-unstyled">
          <li><a href="https://www.facebook.com/hishan.indrajith" target="_blank"><i class="ion-social-facebook"></i></a></li>
          <li><a href="https://twitter.com/Hishan95hia" target="_blank"><i class="ion-social-twitter"></i></a></li>
          <li><a href="https://github.com/HishanIndrajith" target="_blank"><i class="ion-social-github"></i></a></li>
          <li><a href="https://www.linkedin.com/in/hishan-indrajith/" target="_blank"><i class="ion-social-linkedin"></i></a></li>
          <li><a href="https://plus.google.com/u/0/110708347902399084724" target="_blank"><i class="ion-social-googleplus"></i></a></li>
          <li><a href="https://www.youtube.com/channel/UC1_VbbA1w7IavuFvlFxm99A" target="_blank"><i class="ion-social-youtube"></i></a></li>
        </ul>

      </div>

      <p>&copy; 2018 . Hishan Indrajith Adikari . All rights reserved.</p>

      

    </div>
  </div>
  <!-- End section footer -->

  <!-- JavaScript Libraries -->
  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/jquery/jquery-migrate.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="lib/typed/typed.js"></script>
  <script src="lib/owlcarousel/owl.carousel.min.js"></script>
  <script src="lib/magnific-popup/magnific-popup.min.js"></script>
  <script src="lib/isotope/isotope.pkgd.min.js"></script>

  <!-- Contact Form JavaScript File -->
  <script src="contactform/contactform.js"></script>

  <!-- Template Main Javascript File -->
  <script src="js/main.js"></script>

</body>

</html>
